<!doctype html>
<html lang="es">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- RESET elimina los estilos css que implementan los navegadores por defecto-->
    <link rel="stylesheet" href="./assets/css/reset200802.css">

    <!--jQuery -->
    <!-- MORRIS JS libreria para realizar graficas-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <link rel="stylesheet" href="./assets/libs/morris.js-0.5.1/morris.css">
    <script src="./assets/libs/morris.js-0.5.1/morris.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
    </script>


    <!-- Hoja de estilos del sitio-->
    <link rel="stylesheet" href="./assets/css/stilo.css">

    <title>Mi escuela | Alumnos</title>
</head>


<body>
    <div class="container">
        <div class="row">

            <h1>Graficas</h1>
            <hr>
            <select name="json" id="json">
                <option value='../assets/json/file-json-otro-example.json'>Json 1</option>
                <option value=' ../assets/json/file-json-example.json'>Json 2</option>
            </select>
            <div class="col-md-6 col-12 ordenar1">
                <div id="myfirstchart"></div>
            </div>
            <div class="col-md-6 col-12 ordenar2 tabla-contenedor">
                
                    <table id="Table" class="table">
                    </table>
            </div>
        </div>
        <div id="line_top_x"></div>
    </div>
    <!--  Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
        integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"
        integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous">
    </script>

  <!--<script src="./assets/js/floating-select.js"></script>-->
  <script src="./assets/js/graficas.js"></script>
  <script src="./assets/js/crear-json.js"></script>
    
  

    <!--modernizr ayuda a compatibilizar nuestro codigo con otros navegadores-->
    <script src="./assets/js/modernizr-custom.js"></script>

  

    <script type="text/javascript">
        google.charts.load('current', {'packages':['line']});
        google.charts.setOnLoadCallback(drawChart);
        
      function drawChart() {

        var nFilas = $("#Table tr").length;
        var nColumnas = $("#Table tr:last td").length;

        $("table tbody tr").each(function(){
            var datas=[]
      
                var fecha = $(this).find("td:eq(0)").text();
                var total = $(this).find("td:eq(1)").children('input').val();
            
                if(total=="" || total==undefined){
                    total=0
                }
                datas.push([ period: fecha, Gasto: total });
                console.log(datas)
            });
  
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'Day');
        data.addColumn('number', 'Guardians of the Galaxy');
        data.addColumn('number', 'The Avengers');
        data.addColumn('number', 'Transformers: Age of Extinction');
  
        data.addRows([
          [1,  37.8, 80.8, 41.8],
          [2,  30.9, 69.5, 32.4],
          [3,  25.4,   57, 25.7],
          [4,  11.7, 18.8, 10.5],
          [5,  11.9, 17.6, 10.4],
          [6,   8.8, 13.6,  7.7],
          [7,   7.6, 12.3,  9.6],
          [8,  12.3, 29.2, 10.6],
          [9,  16.9, 42.9, 14.8],
          [10, 12.8, 30.9, 11.6],
          [11,  5.3,  7.9,  4.7],
          [12,  6.6,  8.4,  5.2],
          [13,  4.8,  6.3,  3.6],
          [14,  4.2,  6.2,  3.4]
        ]);
  
        var options = {
          chart: {
            title: 'Box Office Earnings in First Two Weeks of Opening',
            subtitle: 'in millions of dollars (USD)'
          },
          width: 900,
          height: 500,
          axes: {
            x: {
              0: {side: 'top'}
            }
          }
        };
  
        var chart = new google.charts.Line(document.getElementById('line_top_x'));
  
        chart.draw(data, google.charts.Line.convertOptions(options));
      }
    </script>    
</body>

</html>